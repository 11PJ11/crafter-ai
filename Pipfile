[[source]]
url = "https://pypi.org/simple"
verify_ssl = true
name = "pypi"

[packages]
pyyaml = ">=6.0"
packaging = ">=21.0"
exceptiongroup = "*"
rich = "*"
typer = ">=0.12.0"
pydantic = ">=2.5.0"
pydantic-settings = ">=2.1.0"
httpx = ">=0.27.0"
platformdirs = ">=4.2.0"

[dev-packages]
cosmic-ray = ">=8.4.0"  # Recommended: native src/ layout support
mutmut = "*"            # Fallback: simpler but has import path issues
pytest = ">=7.0.0"
pytest-bdd = ">=7.0.0"
pytest-describe-it = "*"
pytest-html = "*"
pytest-cov = ">=4.0.0"
pytest-pspec = "*"
pytest-mock = "*"
pytest-describe = "*"
pytest-watch = "*"
ruff = ">=0.3.0"
mypy = ">=0.991"
bandit = {extras = ["toml"], version = "*"}
detect-secrets = "*"
python-semantic-release = "*"
commitizen = "*"
gitlint = ">=0.19.0"
pre-commit = ">=3.0.0"
fpdf2 = "*"
click = ">=8.0.0"
colorama = ">=0.4.0"
tqdm = ">=4.64.0"

[scripts]
# Core CI/CD commands
# Minimal test output: progress indicators only (dots/checks), errors with short tracebacks
test = "python -m pytest tests/ --pspec --tb=short --color=yes"
# Coverage testing: minimal console output, detailed coverage report at end
test-coverage = "python -m pytest tests/ -q --cov=src --cov=scripts --cov-report=term-missing --cov-report=html"
# Mutation testing: uses mutmut for comprehensive mutation analysis
mutation-test = "mutmut run"
build = "python tools/build.py"
# Linting and formatting
lint = "ruff check src/ scripts/ tools/ tests/"
format = "ruff format src/ scripts/ tools/ tests/"
format-check = "ruff format --check src/ scripts/ tools/ tests/"
# Validation
validate = "python scripts/local_ci.py"
validate-fast = "python scripts/local_ci.py --fast"
validate-yaml = "python scripts/validation/validate_yaml_files.py"

[requires]
python_version = "3"
