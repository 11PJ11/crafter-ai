#!/usr/bin/env python3
"""
pre-push hook - Wrapper that delegates to pre_push.py

This shim ensures cross-platform compatibility by using Python instead of bash.
The actual validation logic is in pre_push.py.
"""

import sys
from pathlib import Path


def main():
    # Get the directory where this script is located
    script_dir = Path(__file__).resolve().parent
    python_hook = script_dir / "pre_push.py"

    if python_hook.exists():
        # Import and run the Python hook directly
        sys.path.insert(0, str(script_dir))
        from pre_push import main as hook_main
        return hook_main()
    else:
        print(f"ERROR: pre_push.py not found at {python_hook}", file=sys.stderr)
        return 1


if __name__ == "__main__":
    sys.exit(main())
