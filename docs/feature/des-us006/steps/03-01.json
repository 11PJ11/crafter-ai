{
  "task_id": "03-01",
  "step_name": "Verify missing TIMEOUT_INSTRUCTION blocks invocation",
  "project_id": "des-us006",
  "phase_id": "03",
  "acceptance_test_scenario": "test_scenario_008",
  "description": "Test that prompts missing TIMEOUT_INSTRUCTION fail pre-invocation validation with specific error message. This validates that the validator's requirement is enforced.",
  "acceptance_criteria": [
    "PromptValidator.validate() checks for TIMEOUT_INSTRUCTION in MANDATORY_SECTIONS",
    "When missing, validator returns is_valid=False",
    "Error message includes 'TIMEOUT_INSTRUCTION' and 'MISSING'",
    "Task invocation is BLOCKED before execution",
    "test_scenario_008 GREEN: Missing section blocks invocation"
  ],
  "dependencies": [
    "02-01"
  ],
  "suggested_agent": "software-crafter",
  "estimated_hours": 2,
  "tdd_cycle": {
    "acceptance_test": {
      "scenario_name": "test_scenario_008_missing_timeout_instruction_blocks_invocation",
      "test_file": "tests/des/acceptance/test_us006_turn_discipline.py",
      "test_file_format": "py_pytest",
      "scenario_index": 8,
      "initially_ignored": true,
      "is_walking_skeleton": false,
      "mapped_scenario": {
        "description": "Validates validation FAILS when TIMEOUT_INSTRUCTION missing",
        "scenario_function": "test_scenario_008_missing_timeout_instruction_blocks_invocation",
        "scenario_description": "Missing blocks invocation",
        "mapping_type": "feature",
        "notes": "Enforces validator requirement for TIMEOUT_INSTRUCTION"
      }
    },
    "expected_unit_tests": [
      "test_validator_checks_timeout_instruction_in_mandatory_sections",
      "test_validator_returns_invalid_when_timeout_missing",
      "test_validator_error_message_includes_timeout_instruction",
      "test_validator_error_message_includes_missing"
    ],
    "mock_boundaries": {
      "allowed_ports": [],
      "forbidden_domain_classes": [],
      "in_memory_adapters": []
    },
    "tdd_phase_tracking": {
      "current_phase": "NOT_STARTED",
      "active_e2e_test": "@pytest.mark.skip removed from test_scenario_008",
      "inactive_e2e_tests": "All other @pytest.mark.skip scenarios remain disabled",
      "phases_completed": [],
      "test_results": {
        "total": null,
        "passed": null,
        "failed": null,
        "skipped": null
      }
    },
    "phase_execution_log": []
  },
  "quality_gates": {
    "acceptance_tests_pass": false,
    "unit_tests_pass": false,
    "mutation_score_threshold": 75,
    "code_coverage_threshold": 80,
    "solid_principles_followed": false,
    "port_boundary_compliance": false
  },
  "validation": {
    "status": "approved",
    "reviewed_by": "software-crafter-reviewer",
    "reviewed_at": "2026-01-29T12:20:42.080528+00:00",
    "review_summary": "Format validation PASSED - all required fields present and correct. File complies with canonical schema v2.0.0. No HIGH severity violations found. File ready for execution."
  }
}
