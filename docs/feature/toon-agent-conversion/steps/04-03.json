{
  "task_specification": {
    "task_id": "04-03",
    "wave": "wave_1",
    "agent": "troubleshooter-reviewer",
    "action": "Roundtrip validation for troubleshooter-reviewer",
    "gate": "G3_roundtrip",
    "requires": [
      "04-02"
    ],
    "output": "Validation report (pass/fail)",
    "duration_estimate": "15-30 min"
  },
  "acceptance_criteria": [
    "MD -> TOON -> MD produces equivalent output",
    "All YAML keys present in both directions",
    "Values match after whitespace normalization",
    "Embedded knowledge sections byte-identical"
  ],
  "tdd_cycle": {
    "methodology": "11-phase TDD",
    "phases": [
      "PREPARE",
      "RED",
      "GREEN",
      "REFACTOR",
      "REVIEW",
      "POST-REFACTOR_REVIEW",
      "INTEGRATE",
      "E2E_TEST",
      "DOCUMENTATION",
      "COMMIT",
      "REFLECT"
    ],
    "tdd_phase_tracking": {
      "current_phase": "COMMIT",
      "phase_execution_log": [
        {
          "phase": "PREPARE",
          "timestamp": "2026-01-14T15:30:00Z",
          "outcome": "PASS",
          "notes": "Setup test file structure, verified TOON and MD files exist"
        },
        {
          "phase": "RED",
          "timestamp": "2026-01-14T15:32:00Z",
          "outcome": "PASS",
          "notes": "Created test file with 29 tests covering all 4 acceptance criteria"
        },
        {
          "phase": "GREEN",
          "timestamp": "2026-01-14T15:35:00Z",
          "outcome": "PASS",
          "notes": "All 29 tests pass with 100% equivalence score"
        },
        {
          "phase": "REFACTOR",
          "timestamp": "2026-01-14T15:36:00Z",
          "outcome": "PASS",
          "notes": "Test code already follows established patterns, no refactoring needed"
        },
        {
          "phase": "REVIEW",
          "timestamp": "2026-01-14T15:37:00Z",
          "outcome": "PASS",
          "notes": "Test quality validated - follows existing roundtrip test patterns"
        },
        {
          "phase": "POST-REFACTOR_REVIEW",
          "timestamp": "2026-01-14T15:38:00Z",
          "outcome": "PASS",
          "notes": "Code structure consistent with existing test files"
        },
        {
          "phase": "INTEGRATE",
          "timestamp": "2026-01-14T15:39:00Z",
          "outcome": "PASS",
          "notes": "Tests integrated with TOON test suite"
        },
        {
          "phase": "E2E_TEST",
          "timestamp": "2026-01-14T15:40:00Z",
          "outcome": "PASS",
          "notes": "All 520 TOON tests pass including new 29 tests"
        }
      ]
    }
  },
  "validation": {
    "status": "approved",
    "notes": "",
    "timestamp": "2026-01-14",
    "reviewer": "batch-review-automation"
  },
  "execution_results": {
    "status": "completed",
    "equivalence_score": 100.0,
    "tests_created": 29,
    "tests_passing": 29,
    "test_file": "tests/tools/toon/test_troubleshooter_reviewer_roundtrip.py",
    "validation_details": {
      "commands_match": true,
      "dependencies_match": true,
      "frontmatter_valid": true,
      "critical_sections_present": true,
      "embedded_knowledge_preserved": true,
      "patterns_discovered": 6,
      "edge_cases_found": 3
    },
    "completion_timestamp": "2026-01-14T15:45:00Z"
  }
}
