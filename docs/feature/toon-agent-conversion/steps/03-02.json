{
  "task_specification": {
    "task_id": "03-02",
    "wave": "wave_1",
    "agent": "troubleshooter",
    "action": "Transform troubleshooter to TOON v3.0 format",
    "gate": "G2_transform",
    "requires": [
      "03-01"
    ],
    "output": "nWave/agents/troubleshooter.toon",
    "duration_estimate": "30-60 min"
  },
  "acceptance_criteria": [
    "TOON v3.0 file generated: nWave/agents/troubleshooter.toon",
    "Schema validation passes",
    "All YAML keys preserved",
    "Zero syntax errors"
  ],
  "tdd_cycle": {
    "methodology": "11-phase TDD",
    "phases": [
      "RED",
      "GREEN",
      "REFACTOR",
      "REVIEW",
      "POST-REFACTOR_REVIEW",
      "INTEGRATE",
      "E2E_TEST",
      "PERFORMANCE",
      "DOCUMENTATION",
      "COMMIT",
      "REFLECT"
    ],
    "tdd_phase_tracking": {
      "current_phase": "COMMIT",
      "phase_execution_log": [
        {
          "phase_name": "RED",
          "timestamp": "2026-01-14T13:30:00Z",
          "duration_minutes": 15,
          "outcome": "PASS",
          "notes": "Created test file with 44 tests covering all acceptance criteria",
          "artifacts": ["tests/tools/toon/test_troubleshooter_conversion.py"],
          "validation_result": "All tests failing as expected (TOON file not yet created)"
        },
        {
          "phase_name": "GREEN",
          "timestamp": "2026-01-14T13:45:00Z",
          "duration_minutes": 25,
          "outcome": "PASS",
          "notes": "Created troubleshooter.toon following TOON v3.0 format with all sections",
          "artifacts": ["nWave/agents/troubleshooter.toon"],
          "validation_result": "44/44 tests passing"
        },
        {
          "phase_name": "REFACTOR",
          "timestamp": "2026-01-14T14:10:00Z",
          "duration_minutes": 5,
          "outcome": "PASS",
          "notes": "Structure follows TOON v3.0 conventions, no refactoring needed",
          "artifacts": [],
          "validation_result": "Size reduction ~59% (1093 lines -> 444 lines)"
        },
        {
          "phase_name": "REVIEW",
          "timestamp": "2026-01-14T14:15:00Z",
          "duration_minutes": 5,
          "outcome": "PASS",
          "notes": "All 4 acceptance criteria verified: AC1-TOON file generated, AC2-Schema validates, AC3-YAML keys preserved, AC4-Zero syntax errors",
          "artifacts": [],
          "validation_result": "All AC met"
        },
        {
          "phase_name": "POST-REFACTOR_REVIEW",
          "timestamp": "2026-01-14T14:20:00Z",
          "duration_minutes": 5,
          "outcome": "PASS",
          "notes": "Ran both conversion tests and MD parsing tests",
          "artifacts": [],
          "validation_result": "69/69 tests passing (44 conversion + 25 MD parsing)"
        },
        {
          "phase_name": "INTEGRATE",
          "timestamp": "2026-01-14T14:25:00Z",
          "duration_minutes": 5,
          "outcome": "PASS",
          "notes": "TOONParser and compile_toon both accept the file, 22 sections properly extracted",
          "artifacts": [],
          "validation_result": "Parser integration verified"
        },
        {
          "phase_name": "E2E_TEST",
          "timestamp": "2026-01-14T14:30:00Z",
          "duration_minutes": 5,
          "outcome": "PASS",
          "notes": "Full TOON test suite execution",
          "artifacts": [],
          "validation_result": "363/363 tests passing"
        },
        {
          "phase_name": "PERFORMANCE",
          "timestamp": "2026-01-14T14:35:00Z",
          "duration_minutes": 2,
          "outcome": "PASS",
          "notes": "Original: 47,231 bytes (1093 lines), TOON: 18,577 bytes (444 lines)",
          "artifacts": [],
          "validation_result": "Size reduction ~61% bytes, ~59% lines"
        },
        {
          "phase_name": "DOCUMENTATION",
          "timestamp": "2026-01-14T14:37:00Z",
          "duration_minutes": 3,
          "outcome": "PASS",
          "notes": "Updated step file with TDD phase execution log",
          "artifacts": ["docs/feature/toon-agent-conversion/steps/03-02.json"],
          "validation_result": "Documentation complete"
        }
      ]
    }
  },
  "validation": {
    "status": "approved",
    "notes": "",
    "timestamp": "2026-01-14",
    "reviewer": "batch-review-automation"
  }
}
