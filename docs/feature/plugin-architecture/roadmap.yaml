# Plugin Architecture Implementation Roadmap
# Feature: Plugin Architecture for nWave Installer
# Created: 2026-02-03
# Solution Architect: Morgan
# Status: DRAFT - Ready for DEVELOP wave

project_id: plugin-architecture
created_at: "2026-02-03T19:30:00Z"
description: "Transform nWave installation system from hardcoded approach to modular plugin-based architecture, enabling addition of new features (like DES) without modifying installer code"
version: "1.0.0"

# Acceptance Test References
acceptance_tests:
  location: "tests/nwave/plugin-architecture/acceptance/"
  feature_files:
    - walking-skeleton.feature
    - milestone-1-infrastructure.feature  # COMPLETED
    - milestone-2-wrapper-plugins.feature
    - milestone-3-switchover.feature
    - milestone-4-des-plugin.feature
    - milestone-5-testing-docs.feature
    - milestone-6-deployment.feature
    - integration-checkpoints.feature

# Implementation Scope
implementation_scope:
  source_directories:
    - scripts/install/plugins/
    - scripts/install/install_nwave.py
    - tests/nwave/plugin-architecture/
    - nWave/scripts/des/
    - nWave/templates/
  test_directories:
    - tests/nwave/plugin-architecture/acceptance/
    - tests/nwave/plugin-architecture/unit/
    - tests/nwave/plugin-architecture/integration/
  documentation:
    - docs/feature/plugin-architecture/
    - docs/installation/installation-guide.md
    - CHANGELOG.md

# Phase Definitions
phases:
  # ===========================================================================
  # PHASE 01: Walking Skeleton + Wrapper Plugins
  # Milestone 2 from DISTILL - Proves plugin architecture works E2E
  # ===========================================================================
  - phase_id: "01"
    name: "Walking Skeleton + Wrapper Plugins"
    description: "Implement walking skeleton (AgentsPlugin E2E) first to prove architecture, then complete all wrapper plugins"
    milestone_reference: "milestone-2-wrapper-plugins.feature"
    estimated_hours: 16

    steps:
      # -----------------------------------------------------------------------
      # Step 01-01: Walking Skeleton - MUST BE IMPLEMENTED FIRST
      # Acceptance test: walking-skeleton.feature
      # -----------------------------------------------------------------------
      - step_id: "01-01"
        name: "Walking Skeleton - AgentsPlugin E2E"
        description: |
          Implement complete E2E path for AgentsPlugin through plugin infrastructure.
          This is the MINIMUM viable test proving plugin system works end-to-end.
          MUST be implemented FIRST before any other wrapper plugins.
        type: "feature"
        acceptance_scenario: "walking-skeleton.feature::Install single plugin through complete infrastructure"
        acceptance_criteria:
          - "AgentsPlugin.install() copies agent files to target directory"
          - "Agent files are copied to {test_dir}/.claude/agents/nw/"
          - "At least 1 agent .md file exists in the target directory"
          - "AgentsPlugin.verify() returns success with message containing 'Agents verification passed'"
          - "PluginRegistry discovers and registers AgentsPlugin correctly"
        suggested_agent: "software-crafter"
        files_to_modify:
          - scripts/install/plugins/agents_plugin.py
          - tests/nwave/plugin-architecture/acceptance/steps/plugin_steps.py
        files_to_create:
          - tests/nwave/plugin-architecture/acceptance/conftest.py
        dependencies: []
        estimated_hours: 4
        priority: "critical"
        notes: |
          This step implements the actual installation logic in AgentsPlugin.
          The current implementation is a stub that returns success without doing anything.
          Must extract install_agents_impl() from install_nwave.py and call it from plugin.
          Validates: Plugin discovery -> registration -> installation -> verification

      # -----------------------------------------------------------------------
      # Step 01-02: CommandsPlugin Wrapper
      # Acceptance test: milestone-2-wrapper-plugins.feature
      # -----------------------------------------------------------------------
      - step_id: "01-02"
        name: "CommandsPlugin Wrapper Implementation"
        description: |
          Implement CommandsPlugin wrapper around install_commands_impl().
          Follows same pattern as AgentsPlugin from walking skeleton.
        type: "feature"
        acceptance_scenario: "milestone-2-wrapper-plugins.feature::All wrapper plugins are implemented and functional"
        acceptance_criteria:
          - "CommandsPlugin.install() copies command files to {test_dir}/.claude/commands/nw/"
          - "CommandsPlugin.verify() returns success when commands are installed"
          - "CommandsPlugin has fallback verification logic (file existence check)"
          - "No circular import errors when importing CommandsPlugin"
        suggested_agent: "software-crafter"
        files_to_modify:
          - scripts/install/plugins/commands_plugin.py
          - scripts/install/install_nwave.py
        dependencies:
          - "01-01"
        estimated_hours: 2
        priority: "high"

      # -----------------------------------------------------------------------
      # Step 01-03: TemplatesPlugin Wrapper
      # -----------------------------------------------------------------------
      - step_id: "01-03"
        name: "TemplatesPlugin Wrapper Implementation"
        description: |
          Implement TemplatesPlugin wrapper around install_templates_impl().
          Follows same pattern as AgentsPlugin.
        type: "feature"
        acceptance_scenario: "milestone-2-wrapper-plugins.feature::All wrapper plugins are implemented and functional"
        acceptance_criteria:
          - "TemplatesPlugin.install() copies template files to {test_dir}/.claude/templates/"
          - "TemplatesPlugin.verify() returns success when templates are installed"
          - "TemplatesPlugin has fallback verification logic"
          - "No circular import errors"
        suggested_agent: "software-crafter"
        files_to_modify:
          - scripts/install/plugins/templates_plugin.py
          - scripts/install/install_nwave.py
        dependencies:
          - "01-01"
        estimated_hours: 2
        priority: "high"

      # -----------------------------------------------------------------------
      # Step 01-04: UtilitiesPlugin Wrapper
      # -----------------------------------------------------------------------
      - step_id: "01-04"
        name: "UtilitiesPlugin Wrapper Implementation"
        description: |
          Implement UtilitiesPlugin wrapper around install_utilities_impl().
          Follows same pattern as AgentsPlugin.
        type: "feature"
        acceptance_scenario: "milestone-2-wrapper-plugins.feature::All wrapper plugins are implemented and functional"
        acceptance_criteria:
          - "UtilitiesPlugin.install() copies utility scripts to {test_dir}/.claude/scripts/"
          - "UtilitiesPlugin.verify() returns success when utilities are installed"
          - "UtilitiesPlugin has fallback verification logic"
          - "No circular import errors"
        suggested_agent: "software-crafter"
        files_to_modify:
          - scripts/install/plugins/utilities_plugin.py
          - scripts/install/install_nwave.py
        dependencies:
          - "01-01"
        estimated_hours: 2
        priority: "high"

      # -----------------------------------------------------------------------
      # Step 01-05: Multi-Plugin Dependency Resolution
      # -----------------------------------------------------------------------
      - step_id: "01-05"
        name: "Multi-Plugin Dependency Resolution Validation"
        description: |
          Validate that all 4 wrapper plugins work together with proper dependency resolution.
          Tests topological sort with multiple plugins and priority ordering.
        type: "feature"
        acceptance_scenario: "milestone-2-wrapper-plugins.feature::Plugin dependency resolution works correctly"
        acceptance_criteria:
          - "PluginRegistry.get_installation_order() returns deterministic order"
          - "Order respects plugin priorities: [agents(10), commands(20), templates(30), utilities(40)]"
          - "All 4 plugins install successfully when registry.install_all() is called"
          - "Circular dependency detection raises CircularDependencyError with descriptive message"
          - "Each plugin has unit tests that pass"
        suggested_agent: "software-crafter"
        files_to_modify:
          - tests/nwave/plugin-architecture/unit/test_wrapper_plugins.py
          - tests/nwave/plugin-architecture/integration/test_multi_plugin.py
        dependencies:
          - "01-02"
          - "01-03"
          - "01-04"
        estimated_hours: 3
        priority: "high"
        notes: |
          This step validates the complete Phase 01 by running all plugins together.
          Should include both positive tests (successful installation) and negative tests
          (circular dependency, missing prerequisites).

  # ===========================================================================
  # PHASE 02: Switchover to Plugin System
  # Milestone 3 from DISTILL - Modify installer to use PluginRegistry
  # ===========================================================================
  - phase_id: "02"
    name: "Switchover to Plugin System"
    description: "Modify install_framework() to use PluginRegistry for orchestration, with behavioral equivalence validation"
    milestone_reference: "milestone-3-switchover.feature"
    estimated_hours: 12

    steps:
      # -----------------------------------------------------------------------
      # Step 02-01: Modify install_framework()
      # -----------------------------------------------------------------------
      - step_id: "02-01"
        name: "Modify install_framework() to use PluginRegistry"
        description: |
          Replace hardcoded _install_*() calls in install_framework() with
          registry.install_all(context). This is the critical switchover point.
        type: "feature"
        acceptance_scenario: "milestone-3-switchover.feature::Installer uses PluginRegistry for installation orchestration"
        acceptance_criteria:
          - "install_framework() creates PluginRegistry and registers all 4 plugins"
          - "install_framework() creates InstallContext with all required utilities"
          - "install_framework() calls registry.install_all(context)"
          - "BackupManager creates backups before installation"
          - "Installation completes successfully with all plugins"
          - "Verification passes for all components"
        suggested_agent: "software-crafter"
        files_to_modify:
          - scripts/install/install_nwave.py
        dependencies:
          - "01-05"
        estimated_hours: 4
        priority: "critical"
        notes: |
          CRITICAL CHANGE: This step modifies the core installer.
          Must preserve backward compatibility - existing CLI options should work.
          InstallContext must include: claude_dir, scripts_dir, templates_dir, logger,
          backup_manager, installation_verifier, framework_source, project_root, rich_logger.

      # -----------------------------------------------------------------------
      # Step 02-02: Behavioral Equivalence Validation
      # -----------------------------------------------------------------------
      - step_id: "02-02"
        name: "Behavioral Equivalence Validation"
        description: |
          Create integration test comparing baseline (pre-plugin) vs plugin installation.
          Validates that switchover produces identical results.
        type: "feature"
        acceptance_scenario: "milestone-3-switchover.feature::Behavioral equivalence with monolithic installer"
        acceptance_criteria:
          - "Baseline installation captured before switchover"
          - "Plugin-based installation produces identical file tree"
          - "File contents are byte-for-byte identical"
          - "InstallationVerifier output is identical"
          - "No regressions detected in installation behavior"
        suggested_agent: "software-crafter"
        files_to_modify:
          - tests/nwave/plugin-architecture/integration/test_behavioral_equivalence.py
        files_to_create:
          - tests/nwave/plugin-architecture/fixtures/baseline_snapshot.py
        dependencies:
          - "02-01"
        estimated_hours: 4
        priority: "critical"
        notes: |
          Based on GAP-PROCESS-01 from architecture-decisions.md.
          Test must compare:
          1. File tree (same files in same locations)
          2. File contents (byte-for-byte identical)
          3. Verification output (InstallationVerifier results match)

      # -----------------------------------------------------------------------
      # Step 02-03: Rollback Mechanism
      # -----------------------------------------------------------------------
      - step_id: "02-03"
        name: "Rollback Mechanism Implementation"
        description: |
          Implement rollback functionality for plugin installation failures.
          If any plugin fails, restore from backup.
        type: "feature"
        acceptance_scenario: "milestone-3-switchover.feature::Plugin installation rolls back on failure"
        acceptance_criteria:
          - "BackupManager creates backup before installation starts"
          - "If plugin installation fails, rollback is triggered automatically"
          - "Rollback restores system to pre-installation state"
          - "No partial plugin installations remain after rollback"
          - "Error is logged with details for debugging"
        suggested_agent: "software-crafter"
        files_to_modify:
          - scripts/install/plugins/registry.py
          - scripts/install/install_nwave.py
        dependencies:
          - "02-01"
        estimated_hours: 4
        priority: "high"
        notes: |
          Based on GAP-PROCESS-02 from architecture-decisions.md.
          Rollback procedure should use existing BackupManager functionality.

  # ===========================================================================
  # PHASE 03: DES Plugin Integration
  # Milestone 4 from DISTILL - Add DES as a plugin
  # ===========================================================================
  - phase_id: "03"
    name: "DES Plugin Integration"
    description: "Implement DESPlugin to install DES module, scripts, and templates without modifying installer code"
    milestone_reference: "milestone-4-des-plugin.feature"
    estimated_hours: 14

    prerequisites:
      - "DES scripts MUST exist at nWave/scripts/des/ (check_stale_phases.py, scope_boundary_check.py)"
      - "DES templates MUST exist at nWave/templates/ (.pre-commit-config-nwave.yaml, .des-audit-README.md)"
      - "See prerequisites.md and architecture-decisions.md GAP-PREREQ-01, GAP-PREREQ-02"

    steps:
      # -----------------------------------------------------------------------
      # Step 03-01: Create DES Prerequisites
      # -----------------------------------------------------------------------
      - step_id: "03-01"
        name: "Create DES Plugin Prerequisites"
        description: |
          Create DES scripts and templates required by DESPlugin.
          This is a BLOCKING prerequisite for DESPlugin implementation.
        type: "infrastructure"
        acceptance_criteria:
          - "nWave/scripts/des/check_stale_phases.py created and executable"
          - "nWave/scripts/des/scope_boundary_check.py created and executable"
          - "nWave/templates/.pre-commit-config-nwave.yaml created"
          - "nWave/templates/.des-audit-README.md created"
          - "All scripts pass syntax validation (python3 -m py_compile)"
        suggested_agent: "software-crafter"
        files_to_create:
          - nWave/scripts/des/check_stale_phases.py
          - nWave/scripts/des/scope_boundary_check.py
          - nWave/templates/.pre-commit-config-nwave.yaml
          - nWave/templates/.des-audit-README.md
        dependencies:
          - "02-02"
        estimated_hours: 4
        priority: "high"
        notes: |
          Implementation specs in architecture-decisions.md GAP-PREREQ-01 and GAP-PREREQ-02.

      # -----------------------------------------------------------------------
      # Step 03-02: Implement DESPlugin
      # -----------------------------------------------------------------------
      - step_id: "03-02"
        name: "Implement DESPlugin"
        description: |
          Implement DESPlugin with dependencies on templates and utilities.
          DES module, scripts, and templates are installed via plugin.
        type: "feature"
        acceptance_scenario: "milestone-4-des-plugin.feature::DES plugin installs successfully"
        acceptance_criteria:
          - "DESPlugin declares dependencies: ['templates', 'utilities']"
          - "DES is installed AFTER templates and utilities (dependency resolution)"
          - "DES module copied to ~/.claude/lib/python/des/"
          - "DES scripts copied to ~/.claude/scripts/"
          - "DES templates copied to ~/.claude/templates/"
          - "Installation completes without modifying install_nwave.py"
        suggested_agent: "software-crafter"
        files_to_modify:
          - scripts/install/plugins/des_plugin.py
        dependencies:
          - "03-01"
        estimated_hours: 4
        priority: "high"

      # -----------------------------------------------------------------------
      # Step 03-03: DES Import and Script Validation
      # -----------------------------------------------------------------------
      - step_id: "03-03"
        name: "DES Import and Script Execution Validation"
        description: |
          Validate that DES module is importable and scripts are executable
          after DESPlugin installation.
        type: "feature"
        acceptance_scenario: "milestone-4-des-plugin.feature::DES module is importable after installation"
        acceptance_criteria:
          - "Subprocess import test succeeds: python3 -c 'from des.application import DESOrchestrator'"
          - "DES scripts have executable permissions (chmod +x)"
          - "DES scripts execute without import errors"
          - "DESPlugin.verify() returns success after installation"
        suggested_agent: "software-crafter"
        files_to_modify:
          - scripts/install/plugins/des_plugin.py
          - tests/nwave/plugin-architecture/integration/test_des_plugin.py
        dependencies:
          - "03-02"
        estimated_hours: 3
        priority: "high"

      # -----------------------------------------------------------------------
      # Step 03-04: DES Prerequisites Error Handling
      # -----------------------------------------------------------------------
      - step_id: "03-04"
        name: "DESPlugin Graceful Failure on Missing Prerequisites"
        description: |
          Ensure DESPlugin fails gracefully when prerequisites are missing,
          with clear error messages and remediation steps.
        type: "feature"
        acceptance_scenario: "milestone-4-des-plugin.feature::DESPlugin fails gracefully when prerequisites missing"
        acceptance_criteria:
          - "When DES scripts missing, returns PluginResult(success=False)"
          - "Error message contains 'DES scripts not found: nWave/scripts/des/'"
          - "When DES templates missing, error message explains what's missing"
          - "No partial DES files installed on failure"
          - "Error logged with clear remediation steps"
        suggested_agent: "software-crafter"
        files_to_modify:
          - scripts/install/plugins/des_plugin.py
          - tests/nwave/plugin-architecture/unit/test_des_plugin_errors.py
        dependencies:
          - "03-02"
        estimated_hours: 3
        priority: "medium"

  # ===========================================================================
  # PHASE 04: Testing and Documentation
  # Milestone 5 from DISTILL - Comprehensive testing
  # ===========================================================================
  - phase_id: "04"
    name: "Testing and Documentation"
    description: "Comprehensive test coverage, selective installation/uninstallation, upgrade scenarios"
    milestone_reference: "milestone-5-testing-docs.feature"
    estimated_hours: 14

    steps:
      # -----------------------------------------------------------------------
      # Step 04-01: Complete Test Coverage
      # -----------------------------------------------------------------------
      - step_id: "04-01"
        name: "Complete Test Coverage (>80%)"
        description: |
          Ensure test coverage of plugin system exceeds 80%.
          Add unit tests for all plugins and integration tests for scenarios.
        type: "feature"
        acceptance_scenario: "milestone-5-testing-docs.feature::Full installation with all plugins succeeds"
        acceptance_criteria:
          - "pytest-cov reports >80% coverage for scripts/install/plugins/"
          - "All 5 plugins have unit tests (agents, commands, templates, utilities, des)"
          - "All unit tests pass"
          - "All integration tests pass (fresh install + upgrade)"
          - "All acceptance tests pass"
        suggested_agent: "software-crafter"
        files_to_modify:
          - tests/nwave/plugin-architecture/unit/test_agents_plugin.py
          - tests/nwave/plugin-architecture/unit/test_commands_plugin.py
          - tests/nwave/plugin-architecture/unit/test_templates_plugin.py
          - tests/nwave/plugin-architecture/unit/test_utilities_plugin.py
          - tests/nwave/plugin-architecture/unit/test_des_plugin.py
        dependencies:
          - "03-03"
        estimated_hours: 6
        priority: "medium"

      # -----------------------------------------------------------------------
      # Step 04-02: Selective Installation/Uninstallation
      # -----------------------------------------------------------------------
      - step_id: "04-02"
        name: "Selective Installation and Uninstallation"
        description: |
          Implement --exclude flag for selective plugin installation
          and --uninstall flag for removing specific plugins.
        type: "feature"
        acceptance_scenario: "milestone-5-testing-docs.feature::Selective installation excludes plugins correctly"
        acceptance_criteria:
          - "install_nwave.py --exclude des installs only 4 plugins"
          - "DES module NOT found at ~/.claude/lib/python/des/ when excluded"
          - "install_nwave.py --uninstall des removes DES files"
          - "Other plugins remain installed after selective uninstall"
          - "Uninstallation blocked when plugin has dependents"
        suggested_agent: "software-crafter"
        files_to_modify:
          - scripts/install/install_nwave.py
          - scripts/install/plugins/registry.py
        dependencies:
          - "04-01"
        estimated_hours: 4
        priority: "medium"

      # -----------------------------------------------------------------------
      # Step 04-03: Upgrade Scenario Testing
      # -----------------------------------------------------------------------
      - step_id: "04-03"
        name: "Upgrade Scenario Testing"
        description: |
          Test upgrade from monolithic installer (v1.2.0) to plugin-based (v1.3.0+).
          Ensure existing installations are preserved.
        type: "feature"
        acceptance_scenario: "milestone-5-testing-docs.feature::Upgrade from monolithic installer preserves existing installation"
        acceptance_criteria:
          - "Existing components detected and preserved during upgrade"
          - "BackupManager creates backup before upgrade"
          - "DES plugin added without affecting existing components"
          - "Verification passes for all components after upgrade"
          - "No existing functionality broken"
        suggested_agent: "software-crafter"
        files_to_modify:
          - tests/nwave/plugin-architecture/integration/test_upgrade_scenarios.py
        dependencies:
          - "04-01"
        estimated_hours: 4
        priority: "medium"

  # ===========================================================================
  # PHASE 05: Deployment
  # Milestone 6 from DISTILL - Version bump and production release
  # ===========================================================================
  - phase_id: "05"
    name: "Deployment"
    description: "Version bump, CHANGELOG update, and end-to-end user journey validation"
    milestone_reference: "milestone-6-deployment.feature"
    estimated_hours: 6

    steps:
      # -----------------------------------------------------------------------
      # Step 05-01: Version Bump and CHANGELOG
      # -----------------------------------------------------------------------
      - step_id: "05-01"
        name: "Version Bump and CHANGELOG Update"
        description: |
          Bump version to 1.7.0 for production release.
          Update CHANGELOG.md with migration notes.
        type: "infrastructure"
        acceptance_scenario: "milestone-6-deployment.feature::Version bump and deployment succeed"
        acceptance_criteria:
          - "pyproject.toml version updated to 1.7.0"
          - "CHANGELOG.md documents changes from 1.2.0 to 1.7.0"
          - "Release notes include DES feature announcement"
          - "git tag v1.7.0 created"
        suggested_agent: "software-crafter"
        files_to_modify:
          - pyproject.toml
          - CHANGELOG.md
        dependencies:
          - "04-03"
        estimated_hours: 2
        priority: "low"

      # -----------------------------------------------------------------------
      # Step 05-02: End-to-End User Journey Validation
      # -----------------------------------------------------------------------
      - step_id: "05-02"
        name: "End-to-End User Journey Validation"
        description: |
          Validate complete user journey from download to DES usage.
          Ensure production-ready experience.
        type: "feature"
        acceptance_scenario: "milestone-6-deployment.feature::End-to-end user journey completes successfully"
        acceptance_criteria:
          - "Fresh installation shows '5 plugins' progress messages"
          - "User sees progress for each plugin: [1/5] to [5/5]"
          - "Installation completes with 'Installation complete' message"
          - "Verification table shows all components OK"
          - "DES is available for production use (/nw:develop creates audit trail)"
        suggested_agent: "software-crafter"
        files_to_modify:
          - tests/nwave/plugin-architecture/e2e/test_user_journey.py
        dependencies:
          - "05-01"
        estimated_hours: 4
        priority: "low"
        notes: |
          This is the final validation before production release.
          Should be run manually or in CI/CD with clean environment.

# Validation Configuration
validation:
  status: "approved"
  approved_at: "2026-02-03T19:45:00Z"
  approved_by: "software-crafter-reviewer"
  review_notes: "Walking skeleton correctly positioned as step 01-01 with critical priority. All steps have atomic file scope, clear acceptance criteria, and correct dependencies."
  quality_gates:
    - name: "Walking Skeleton Complete"
      phase: "01"
      step: "01-01"
      criteria: "AgentsPlugin E2E test passes"
      blocking: true

    - name: "All Wrapper Plugins Functional"
      phase: "01"
      step: "01-05"
      criteria: "All 4 wrapper plugins install correctly via registry"
      blocking: true

    - name: "Switchover Behavioral Equivalence"
      phase: "02"
      step: "02-02"
      criteria: "Plugin-based installation identical to baseline"
      blocking: true

    - name: "DES Plugin Operational"
      phase: "03"
      step: "03-03"
      criteria: "DES module importable and scripts executable"
      blocking: true

    - name: "Test Coverage Threshold"
      phase: "04"
      step: "04-01"
      criteria: ">80% test coverage for plugin system"
      blocking: false

    - name: "Production Ready"
      phase: "05"
      step: "05-02"
      criteria: "E2E user journey completes successfully"
      blocking: true

# Summary Statistics
summary:
  total_phases: 5
  total_steps: 15
  total_estimated_hours: 62
  critical_steps: 4
  high_priority_steps: 8
  medium_priority_steps: 5
  low_priority_steps: 2
  milestone_mapping:
    milestone_1: "COMPLETED (infrastructure exists)"
    milestone_2: "Phase 01 (walking skeleton + wrappers)"
    milestone_3: "Phase 02 (switchover)"
    milestone_4: "Phase 03 (DES plugin)"
    milestone_5: "Phase 04 (testing/docs)"
    milestone_6: "Phase 05 (deployment)"

# Key Architecture Decisions Reference
architecture_decisions:
  circular_import_prevention: "Extract module-level functions from install_nwave.py"
  verification_fallback: "Each plugin has fallback file existence check if InstallationVerifier unavailable"
  version_strategy: "Incremental: 1.2.1 -> 1.3.0 -> 1.4.0 -> 1.7.0"
  rollback_strategy: "Use BackupManager to restore on plugin failure"
  des_prerequisites: "DES scripts and templates created BEFORE Phase 03"
