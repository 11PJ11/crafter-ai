{
  "task_specification": {
    "task_id": "06-03",
    "phase_id": "06",
    "name": "Create turn discipline implementation guide",
    "description": "Write how-to guide explaining TIMEOUT_INSTRUCTION section, turn budget rationale, checkpoint progression expectations, early exit protocol, and turn logging patterns. Include agent training material for recognizing turn discipline in prompts.",
    "acceptance_test_scenario": "Documentation step",
    "acceptance_criteria": [
      "GIVEN turn discipline implementation complete",
      "WHEN documentation guide created",
      "THEN guide includes: TIMEOUT_INSTRUCTION overview, turn budget explanation, checkpoint milestones, early exit protocol, turn logging examples"
    ],
    "requires": [
      "06-02"
    ],
    "estimated_hours": 2
  },
  "tdd_cycle": {
    "phases": [
      {
        "phase_number": 1,
        "phase_name": "PREPARE",
        "description": "Remove @skip tags, verify scenario setup",
        "checks": [
          "Documentation location identified: docs/feature/turn-discipline/",
          "Guide template or structure prepared",
          "Turn discipline implementation details compiled for documentation"
        ]
      },
      {
        "phase_number": 2,
        "phase_name": "RED_ACCEPTANCE",
        "description": "Run acceptance test, expect FAIL",
        "checks": [
          "Test discovered: documentation completeness test",
          "Test checks for guide file existence",
          "Test verifies required sections present",
          "Test may initially fail (guide not yet written)"
        ]
      },
      {
        "phase_number": 3,
        "phase_name": "RED_UNIT",
        "description": "Write failing unit tests",
        "checks": [
          "Unit test file created: tests/unit/test_documentation.py",
          "Test: Turn discipline guide file exists",
          "Test: Guide contains TIMEOUT_INSTRUCTION overview section",
          "Test: Guide explains 50-turn budget rationale",
          "Test: Guide describes checkpoint milestones (~10, ~25, ~40)",
          "Test: Guide documents early exit protocol",
          "Test: Guide includes turn logging examples",
          "Test: Guide has agent training material"
        ]
      },
      {
        "phase_number": 4,
        "phase_name": "GREEN_UNIT",
        "description": "Implement minimum code to pass",
        "checks": [
          "Create guide file: docs/feature/turn-discipline/implementation-guide.md",
          "Write TIMEOUT_INSTRUCTION overview section (what, why, when)",
          "Explain 50-turn budget (rationale, flexibility, agent expectations)",
          "Document checkpoint milestones with TDD phases",
          "Describe early exit protocol (graceful exit, state saving)",
          "Include turn logging examples with format explanation",
          "Add agent training: how to recognize turn discipline in prompts"
        ]
      },
      {
        "phase_number": 5,
        "phase_name": "CHECK_ACCEPTANCE",
        "description": "Verify unit implementation",
        "checks": [
          "Guide file location verified",
          "All required sections present",
          "Content clarity verified: understandable to developers and agents",
          "Examples clear and actionable"
        ]
      },
      {
        "phase_number": 6,
        "phase_name": "GREEN_ACCEPTANCE",
        "description": "Run acceptance test, expect PASS",
        "checks": [
          "Acceptance test PASSES: guide file exists with all required sections",
          "Documentation completeness verified"
        ]
      },
      {
        "phase_number": 7,
        "phase_name": "REVIEW",
        "description": "Self-review (SOLID, coverage, acceptance criteria)",
        "checks": [
          "SOLID review: Documentation clear and focused",
          "Acceptance criteria met: all five required sections present",
          "No technical errors in documentation",
          "Examples verified against implementation",
          "Readability suitable for both developers and agents"
        ]
      },
      {
        "phase_number": 8,
        "phase_name": "REFACTOR_L1",
        "description": "Naming clarity improvements",
        "checks": [
          "Section headings are clear and descriptive",
          "Example code is well-formatted and readable",
          "Technical terms explained where needed",
          "All sections organized logically"
        ]
      },
      {
        "phase_number": 9,
        "phase_name": "REFACTOR_L2",
        "description": "Method extraction",
        "checks": [
          "Complex ideas broken into digestible subsections",
          "Each section focused on single topic",
          "Transitions between sections clear"
        ]
      },
      {
        "phase_number": 10,
        "phase_name": "REFACTOR_L3",
        "description": "Class responsibilities",
        "checks": [
          "Document structure follows logical progression",
          "Overview section leads to detailed sections",
          "No redundancy between sections"
        ]
      },
      {
        "phase_number": 11,
        "phase_name": "REFACTOR_L4",
        "description": "Architecture patterns",
        "checks": [
          "Documentation follows established guide patterns",
          "Formatting consistent with other docs"
        ]
      },
      {
        "phase_number": 12,
        "phase_name": "POST_REFACTOR_REVIEW",
        "description": "Self-review (tests pass, quality improved)",
        "checks": [
          "All documentation sections clear",
          "Examples accurate and tested",
          "Content quality improved through review",
          "No gaps in explanation"
        ]
      },
      {
        "phase_number": 13,
        "phase_name": "FINAL_VALIDATE",
        "description": "Full test suite validation",
        "checks": [
          "Documentation completeness verified",
          "All sections present and clear",
          "Examples run correctly (if code examples present)",
          "Document renders correctly in markdown"
        ]
      },
      {
        "phase_number": 14,
        "phase_name": "COMMIT",
        "description": "Commit with detailed message",
        "checks": [
          "Commit message format: 'docs(turn-discipline): Create implementation guide with TIMEOUT_INSTRUCTION explanation'",
          "Documentation file committed",
          "Clean working directory"
        ]
      }
    ],
    "tdd_phase_tracking": {
      "current_phase": "PREPARE",
      "phase_execution_log": []
    }
  },
  "validation": {
    "status": "approved",
    "notes": "Documentation step: Turn discipline implementation guide",
    "approval_date": "2026-01-28T15:33:57.296549+00:00"
  }
}
