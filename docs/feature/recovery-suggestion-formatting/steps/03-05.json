{
  "task_id": "US005-03-05",
  "project_id": "des-us005",
  "task_specification": {
    "task_id": "US005-03-05",
    "title": "Create comprehensive failure mode registry",
    "description": "Implement centralized registry of all failure modes with associated recovery suggestion templates.\n\nRegistry Structure:\n{\n  \"abandoned_phase\": {\n    \"description\": \"Agent crashed leaving phase IN_PROGRESS\",\n    \"why_template\": \"The agent left {phase} in IN_PROGRESS state...\",\n    \"how_template\": \"Reset the phase to NOT_EXECUTED...\",\n    \"actionable_template\": \"Run: /nw:execute @{agent} {step_file}\"\n  },\n  \"silent_completion\": { ... },\n  ...\n}\n\nCoverage (AC-005.1):\nEnsure all 7 failure modes have entries:\n1. abandoned_phase\n2. silent_completion\n3. missing_section\n4. missing_phase\n5. invalid_outcome\n6. invalid_skip\n7. stale_execution\n\nBenefits:\n- Ensures every failure mode has recovery guidance (no orphans)\n- Centralizes templates for consistency\n- Enables validation that all modes are covered\n- Supports future extension with new modes",
    "acceptance_criteria": [
      "Registry contains all 7 failure modes",
      "Each mode has WHY, HOW, and actionable templates",
      "Templates use placeholders for context variables",
      "Registry is version controlled and documented",
      "Validation ensures no orphan failure modes"
    ]
  },
  "schema_version": "2.0",
  "tdd_cycle": {
    "acceptance_test": {
      "scenario_name": "",
      "test_file": "",
      "test_file_format": "feature",
      "scenario_index": 0,
      "initially_ignored": true,
      "is_walking_skeleton": false,
      "mapped_scenario": {
        "description": "The specific acceptance test scenario this step makes pass",
        "scenario_function": "",
        "scenario_description": "",
        "mapping_type": "feature",
        "valid_mapping_types": [
          "feature",
          "infrastructure",
          "refactoring"
        ],
        "notes": ""
      }
    },
    "expected_unit_tests": [],
    "mock_boundaries": {
      "allowed_ports": [],
      "forbidden_domain_classes": [],
      "in_memory_adapters": []
    },
    "tdd_phase_tracking": {
      "current_phase": "RED_ACCEPTANCE",
      "active_e2e_test": "test_scenario_001_crash_recovery_provides_recovery_suggestions",
      "inactive_e2e_tests": "Tests 005, 008, 012 marked @skip - enabling sequentially",
      "phases_completed": ["PREPARE"],
      "test_results": {
        "total": null,
        "passed": null,
        "failed": null,
        "skipped": null
      }
    },
    "phase_execution_log": [
      {
        "phase_name": "PREPARE",
        "status": "EXECUTED",
        "started_at": "2026-01-28T14:09:00Z",
        "ended_at": "2026-01-28T14:09:15Z",
        "outcome": "Acceptance test scenario identified: test_scenario_001 (Scenario 1: Crash Recovery)",
        "notes": "Active E2E test: test_scenario_001_crash_recovery_provides_recovery_suggestions. Tests 005, 008, 012 remain @skip (will enable sequentially). Recovery guidance handler implementation exists with 7 failure modes and suggestions templates.",
        "blocked_by": null
      },
      {
        "phase_name": "RED_ACCEPTANCE",
        "status": "NOT_EXECUTED",
        "started_at": null,
        "ended_at": null,
        "outcome": null,
        "notes": null,
        "blocked_by": null
      },
      {
        "phase_name": "RED_UNIT",
        "status": "NOT_EXECUTED",
        "started_at": null,
        "ended_at": null,
        "outcome": null,
        "notes": null,
        "blocked_by": null
      },
      {
        "phase_name": "GREEN",
        "status": "NOT_EXECUTED",
        "started_at": null,
        "ended_at": null,
        "outcome": null,
        "notes": null,
        "blocked_by": null
      },
      {
        "phase_name": "REVIEW",
        "status": "NOT_EXECUTED",
        "started_at": null,
        "ended_at": null,
        "outcome": null,
        "notes": null,
        "blocked_by": null
      },
      {
        "phase_name": "REFACTOR_CONTINUOUS",
        "status": "NOT_EXECUTED",
        "started_at": null,
        "ended_at": null,
        "outcome": null,
        "notes": null,
        "blocked_by": null
      },
      {
        "phase_name": "REFACTOR_L4",
        "status": "NOT_EXECUTED",
        "started_at": null,
        "ended_at": null,
        "outcome": null,
        "notes": null,
        "blocked_by": null
      },
      {
        "phase_name": "COMMIT",
        "status": "NOT_EXECUTED",
        "started_at": null,
        "ended_at": null,
        "outcome": null,
        "notes": null,
        "blocked_by": null
      }
    ]
  },
  "validation": {
    "status": "approved",
    "reviewed_by": "devop-orchestrator",
    "reviewed_at": "2026-01-28T22:40:00Z",
    "reviewer_agent": "software-crafter-reviewer",
    "attempt": 1,
    "notes": "Step file structure verified. Schema v2.0 compliant. Ready for execution."
  }
}
