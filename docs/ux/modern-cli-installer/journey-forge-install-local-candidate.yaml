# Journey Schema: Install Local Candidate (forge:install-local-candidate)
# Designer: Luna (leanux-designer)
# Date: 2026-02-01
# Epic: modern_CLI_installer

schema_version: "1.0"
journey_type: "install"

journey:
  name: "forge-install-local-candidate"
  goal: "Install and validate a locally-built nWave candidate with full release readiness"

  persona:
    name: "The Contributor"
    role: "Developer preparing release or testing installation"
    triggers:
      - "Missed install prompt during forge:build-local"
      - "Full release rehearsal before CI/CD"
      - "Manual testing to fix installation process"
      - "Iterate on release scripts without rebuilding"
      - "Second-chance install after declining in build stage"

  emotional_arc:
    start: "Focused"
    middle: "Trust"
    end: "Celebratory"
    pattern: "release_confidence"

  success_criteria:
    - "Pre-flight checks all pass (wheel exists, env ready)"
    - "Release readiness validation passes (twine check, metadata)"
    - "Candidate installed successfully via pipx"
    - "Doctor verification passes (agents, commands, version)"
    - "Release report generated with install manifest and test checklist"

  use_cases:
    - id: "uc-1"
      name: "Missed install prompt"
      description: "User declined install during forge:build-local and wants to install later"

    - id: "uc-2"
      name: "Full release rehearsal"
      description: "User wants to simulate complete release process before CI/CD"

    - id: "uc-3"
      name: "Fix installation process"
      description: "User debugging installation issues and needs repeated testing"

    - id: "uc-4"
      name: "Iterate on release scripts"
      description: "User improving release automation without rebuilding each time"

    - id: "uc-5"
      name: "Validate release artifacts"
      description: "User wants to verify wheel meets PyPI requirements before push"

steps:
  - id: 1
    name: "Pre-flight Checks"
    command: "forge:install-local-candidate"

    tui_mockup: |
      Validating installation environment...

      +-----------------------------------------------------+
      |  Check                 Status    Details             |
      |  ---------------------------------------------------|
      |  Python version        [check]   3.12.1 (3.10+ OK)   |
      |  pipx available        [check]   v1.4.3 installed    |
      |  ~/.claude writable    [check]   Permissions OK      |
      |  Wheel exists          [check]   ${wheel_path}       |
      |  Wheel format          [check]   Valid .whl          |
      +-----------------------------------------------------+

      [check] All pre-flight checks passed!

    pre_flight_checks:
      - check: "python_version"
        requirement: "3.10+"
        display: "Python version"
        fixable: false

      - check: "pipx_available"
        requirement: "pipx installed and in PATH"
        display: "pipx available"
        fixable: false
        recovery: "pip install pipx && pipx ensurepath"

      - check: "install_path_writable"
        requirement: "~/.claude writable"
        display: "~/.claude writable"
        fixable: false
        recovery: "Check permissions on ~/.claude"

      - check: "wheel_exists"
        requirement: "At least one .whl file in dist/"
        display: "Wheel exists"
        fixable: true
        fix_prompt: "Run forge:build-local now? [Y/n]"
        fix_command: "forge:build-local"

      - check: "wheel_format"
        requirement: "Valid Python wheel format"
        display: "Wheel format"
        fixable: false

    shared_artifacts:
      - name: "wheel_path"
        source: "dist/nwave-*.whl (from forge:build-local)"
        displayed_as: "${wheel_path}"
        validation: "File must exist and be valid .whl"

    emotional_state:
      entry: "Focused - let's check everything is ready"
      exit: "Confident - environment validated, wheel found"

    error_paths:
      - condition: "no_wheel_found"
        severity: "fixable"
        message: |
          [x] No wheel found in dist/

          forge:install-local-candidate requires a wheel.

          Build first with: forge:build-local

          Run forge:build-local now? [Y/n]
        recovery: "Auto-chain to forge:build-local"

      - condition: "multiple_wheels_found"
        severity: "warning"
        message: |
          [warn] Multiple wheels found in dist/

          Select wheel to install [1-N, or 'c' to cancel]:
        recovery: "User selects wheel from list"

      - condition: "pipx_not_installed"
        severity: "blocking"
        message: |
          [x] pipx not installed

          Install pipx first:
            pip install pipx
            pipx ensurepath

          Then re-run: forge:install-local-candidate
        recovery: "Manual pipx installation required"

      - condition: "permission_denied"
        severity: "blocking"
        message: |
          [x] Cannot write to ~/.claude/

          Check permissions or set alternate path:
            NWAVE_INSTALL_PATH=~/my-claude/agents/nw
        recovery: "Fix permissions or use alternate path"

  - id: 2
    name: "Release Readiness Validation"
    command: null  # Automatic after pre-flight

    tui_mockup: |
      [magnifier] Validating release readiness...

      +-----------------------------------------------------+
      |  Wheel: nwave-${candidate_version}-py3-none-any.whl  |
      |  Candidate: ${branch}-${date}-${sequence}            |
      +-----------------------------------------------------+

      +-----------------------------------------------------+
      |  Release Check             Status                    |
      |  ---------------------------------------------------|
      |  twine check               [check] Wheel valid       |
      |  Metadata complete         [check] All fields set    |
      |  Entry points              [check] nw CLI defined    |
      |  CHANGELOG exists          [check] Recent entry OK   |
      |  Version format            [check] PEP 440 valid     |
      |  License bundled           [check] LICENSE in wheel  |
      |  README bundled            [check] README.md OK      |
      +-----------------------------------------------------+

      [check] Release readiness: READY FOR PYPI

    validations:
      - validation: "twine_check"
        display: "twine check"
        description: "Validate wheel against PyPI requirements"
        command: "twine check dist/*.whl"
        blocking: true

      - validation: "metadata_complete"
        display: "Metadata complete"
        description: "Verify all required metadata fields"
        fields:
          - "name"
          - "version"
          - "description"
          - "author"
          - "license"
        blocking: true

      - validation: "entry_points"
        display: "Entry points"
        description: "Verify nw CLI entry point defined"
        blocking: true

      - validation: "changelog_exists"
        display: "CHANGELOG exists"
        description: "Check CHANGELOG.md has entry for current version"
        blocking: false  # Warning only for local testing

      - validation: "version_format"
        display: "Version format"
        description: "Verify PEP 440 compliance"
        blocking: true

      - validation: "license_bundled"
        display: "License bundled"
        description: "Verify LICENSE file included in wheel"
        blocking: true

      - validation: "readme_bundled"
        display: "README bundled"
        description: "Verify README.md included in wheel"
        blocking: true

    shared_artifacts:
      - name: "candidate_version"
        source: "pyproject.toml [project.version] + dev + date + sequence"
        displayed_as: "${candidate_version}"
        example_value: "1.3.0-dev-20260201-001"
        format: "M.m.p-dev-YYYYMMDD-seq"

      - name: "date"
        source: "Build date YYYYMMDD"
        displayed_as: "${date}"
        example_value: "20260201"

      - name: "sequence"
        source: "Daily build sequence number"
        displayed_as: "${sequence}"
        example_value: "001"

    emotional_state:
      entry: "Focused - checking release requirements"
      exit: "Trust - release-ready verification complete"

    error_paths:
      - condition: "twine_check_failed"
        severity: "blocking"
        message: |
          [x] twine check failed

          Fix pyproject.toml and rebuild:
            1. Fix the reported issue
            2. Re-run forge:build-local
            3. Re-run forge:install-local-candidate
        recovery: "Fix metadata and rebuild"

      - condition: "changelog_missing"
        severity: "warning"
        message: |
          [warn] CHANGELOG.md has no entry for ${version}

          This is OK for local testing but should be fixed
          before CI/CD release.

          Continue anyway? [Y/n]
        recovery: "User can continue with warning"

  - id: 3
    name: "Install Candidate"
    command: null  # Automatic after release readiness

    tui_mockup: |
      [rocket] Installing candidate...

      +-----------------------------------------------------+
      |  Phase                      Status                   |
      |  ---------------------------------------------------|
      |  Uninstalling previous      [check] Removed          |
      |  Installing from wheel      [check] Complete         |
      |  Symlinking nw              [check] Available        |
      +-----------------------------------------------------+

      Duration: ${install_duration}

    phases:
      - phase: "uninstall_previous"
        display: "Uninstalling previous"
        description: "Remove existing nwave installation"
        command: "pipx uninstall nwave --force"
        ignore_errors: true  # OK if not installed

      - phase: "install_wheel"
        display: "Installing from wheel"
        description: "Install wheel via pipx"
        command: "pipx install ${wheel_path} --force"

      - phase: "verify_symlink"
        display: "Symlinking nw"
        description: "Verify nw command is available in PATH"
        command: "which nw"

    shared_artifacts:
      - name: "install_duration"
        source: "Runtime duration calculation"
        displayed_as: "${install_duration}"
        example_value: "3.2 seconds"

    emotional_state:
      entry: "Anticipation - installing now"
      exit: "Satisfaction - install complete"

    error_paths:
      - condition: "pipx_install_failed"
        severity: "blocking"
        message: |
          [x] pipx install failed

          Error: ${error_message}

          Suggested fixes:
          1. Check pyproject.toml dependencies
          2. Try: pipx install --pip-args="--upgrade" ${wheel_path}
          3. Report issue at github.com/nwave/nwave/issues
        recovery: "Debug and retry installation"

      - condition: "nw_not_in_path"
        severity: "blocking"
        message: |
          [x] nw command not available after install

          pipx may not be configured correctly.

          Try:
            pipx ensurepath
            exec $SHELL

          Then verify: which nw
        recovery: "Fix PATH configuration"

  - id: 4
    name: "Post-Install Verification (Doctor)"
    command: null  # Automatic after install

    tui_mockup: |
      [stethoscope] Running nw doctor...

      +-----------------------------------------------------+
      |  nWave Candidate Health Check                        |
      +-----------------------------------------------------+

      +-----------------------------------------------------+
      |  Component             Status    Details             |
      |  ---------------------------------------------------|
      |  Core installation     [check]   ${install_path}     |
      |  Agent files           [check]   ${agent_count} OK   |
      |  Command files         [check]   ${command_count} OK |
      |  Template files        [check]   ${template_count} OK|
      |  Config valid          [check]   nwave.yaml OK       |
      |  Permissions           [check]   All accessible      |
      |  Version match         [check]   ${candidate_version}|
      +-----------------------------------------------------+

      +-----------------------------------------------------+
      |  nw --version Output:                                |
      |  ---------------------------------------------------|
      |  nWave Framework v${candidate_version}               |
      |  Candidate: ${branch}-${date}-${sequence}            |
      |  Installed: ${install_path}                          |
      +-----------------------------------------------------+

      [check] Status: HEALTHY

    health_checks:
      - check: "core_installation"
        display: "Core installation"
        description: "Verify installation path exists and is valid"
        validation: "Path exists and is directory"

      - check: "agent_files"
        display: "Agent files"
        description: "Verify agent files installed to ~/.claude"
        validation: "Count matches expected from wheel"

      - check: "command_files"
        display: "Command files"
        description: "Verify command files installed"
        validation: "Count matches expected from wheel"

      - check: "template_files"
        display: "Template files"
        description: "Verify template files installed"
        validation: "Count matches expected from wheel"

      - check: "config_valid"
        display: "Config valid"
        description: "Verify nwave.yaml configuration is valid"
        validation: "YAML parses without errors"

      - check: "permissions"
        display: "Permissions"
        description: "Verify all files are accessible"
        validation: "All files readable"

      - check: "version_match"
        display: "Version match"
        description: "Verify installed version matches wheel"
        validation: "nw --version matches ${candidate_version}"

    shared_artifacts:
      - name: "install_path"
        source: "~/.claude/agents/nw/ or NWAVE_INSTALL_PATH"
        displayed_as: "${install_path}"
        example_value: "~/.claude/agents/nw/"

      - name: "agent_count"
        source: "Runtime count of installed agents"
        displayed_as: "${agent_count}"
        example_value: "47"
        validation: "Must match wheel bundled count"

      - name: "command_count"
        source: "Runtime count of installed commands"
        displayed_as: "${command_count}"
        example_value: "23"
        validation: "Must match wheel bundled count"

      - name: "template_count"
        source: "Runtime count of installed templates"
        displayed_as: "${template_count}"
        example_value: "12"
        validation: "Must match wheel bundled count"

    emotional_state:
      entry: "Trust - verifying installation"
      exit: "Confidence - everything is healthy"

    integration_checkpoint:
      - "Installed version matches wheel version"
      - "Agent count matches wheel bundled count"
      - "Command count matches wheel bundled count"
      - "Template count matches wheel bundled count"
      - "Doctor checks match install-nwave Step 5"

    error_paths:
      - condition: "doctor_unhealthy"
        severity: "blocking"
        message: |
          [x] Status: UNHEALTHY

          One or more health checks failed.
          See details above for specific issues.

          Try: nw install --repair
        recovery: "Repair installation or reinstall"

      - condition: "version_mismatch"
        severity: "blocking"
        message: |
          [x] Version mismatch

          Wheel version: ${wheel_version}
          Installed version: ${installed_version}

          Try: pipx reinstall nwave
        recovery: "Force reinstall to clear cache"

  - id: 5
    name: "Release Report"
    command: null  # Automatic display

    tui_mockup: |
      +-----------------------------------------------------+
      |  [sparkles] FORGE: CANDIDATE INSTALLED               |
      +-----------------------------------------------------+

      [party] nWave Candidate v${candidate_version} ready!

      +-----------------------------------------------------+
      |  RELEASE SUMMARY                                     |
      +-----------------------------------------------------+
      |  [package] Version    ${candidate_version}           |
      |  [branch]  Branch     ${branch}                      |
      |  [calendar] Built     ${build_timestamp}             |
      |  [clock]   Installed  ${install_timestamp}           |
      |  [ruler]   Size       ${wheel_size}                  |
      +-----------------------------------------------------+

      +-----------------------------------------------------+
      |  INSTALL MANIFEST                                    |
      +-----------------------------------------------------+
      |  [robot]     Agents     ${agent_count}               |
      |  [zap]       Commands   ${command_count}             |
      |  [clipboard] Templates  ${template_count}            |
      |  [folder]    Location   ${install_path}              |
      +-----------------------------------------------------+

      +-----------------------------------------------------+
      |  RELEASE READINESS                                   |
      +-----------------------------------------------------+
      |  [check] twine check         Passed                  |
      |  [check] Metadata            Complete                |
      |  [check] Entry points        nw CLI defined          |
      |  [check] CHANGELOG           Has entry               |
      |  [check] License             Bundled                 |
      |  [check] Doctor              HEALTHY                 |
      +-----------------------------------------------------+

      +-----------------------------------------------------+
      |  TEST CHECKLIST                                      |
      +-----------------------------------------------------+
      |  [ ] Restart Claude Code (Cmd+Q then reopen)         |
      |  [ ] Run: /nw:version                                |
      |  [ ] Run: /nw:help                                   |
      |  [ ] Test an agent: /nw:product-owner                |
      |  [ ] Run: nw doctor                                  |
      +-----------------------------------------------------+

    report_sections:
      - section: "release_summary"
        fields:
          - "candidate_version"
          - "branch"
          - "build_timestamp"
          - "install_timestamp"
          - "wheel_size"

      - section: "install_manifest"
        fields:
          - "agent_count"
          - "command_count"
          - "template_count"
          - "install_path"

      - section: "release_readiness"
        checks:
          - "twine_check"
          - "metadata_complete"
          - "entry_points"
          - "changelog_exists"
          - "license_bundled"
          - "doctor_healthy"

      - section: "test_checklist"
        items:
          - "Restart Claude Code"
          - "Run: /nw:version"
          - "Run: /nw:help"
          - "Test an agent"
          - "Run: nw doctor"

    shared_artifacts:
      - name: "build_timestamp"
        source: "From wheel metadata or file timestamp"
        displayed_as: "${build_timestamp}"
        example_value: "2026-02-01 14:23:45"

      - name: "install_timestamp"
        source: "Runtime timestamp at install completion"
        displayed_as: "${install_timestamp}"
        example_value: "2026-02-01 14:25:12"

      - name: "wheel_size"
        source: "Runtime file size calculation"
        displayed_as: "${wheel_size}"
        example_value: "2.3 MB"

      - name: "docs_url"
        source: "nWave/data/config/urls.yaml [docs.contributing.release]"
        displayed_as: "https://nwave.dev/contributing/release"

    emotional_state:
      entry: "Confidence - all verified"
      exit: "Celebratory - release ready, guided to next steps"

    integration_checkpoint:
      - "All shared artifacts consistent across steps"
      - "Release report suitable for CI/CD consumption"
      - "Test checklist guides user verification"

shared_artifacts:
  candidate_version:
    source_of_truth: "pyproject.toml [project.version] + dev + date + sequence"
    displayed_as: "${candidate_version}"
    example_value: "1.3.0-dev-20260201-001"
    format: "M.m.p-dev-YYYYMMDD-seq"
    consumers:
      - "Step 2: Release readiness header"
      - "Step 4: Version match check"
      - "Step 5: Release summary"
    owner: "build system (forge:build-local)"
    integration_risk: "HIGH"
    risk_explanation: "Version mismatch would indicate install failure"

  version:
    source_of_truth: "pyproject.toml [project.version] (base only)"
    displayed_as: "${version}"
    example_value: "1.3.0"
    consumers:
      - "Step 2: Changelog check"
      - "Step 5: Release command"
    owner: "pyproject.toml"
    integration_risk: "HIGH"
    risk_explanation: "Semantic version used for PyPI release"

  wheel_path:
    source_of_truth: "dist/nwave-*.whl (from forge:build-local)"
    displayed_as: "${wheel_path}"
    example_value: "dist/nwave-1.3.0-dev-20260201-001-py3-none-any.whl"
    consumers:
      - "Step 1: Pre-flight validation"
      - "Step 2: Release readiness header"
      - "Step 3: Install command"
    owner: "forge:build-local"
    integration_risk: "HIGH"
    risk_explanation: "Missing wheel blocks entire journey"

  install_path:
    source_of_truth: "~/.claude/agents/nw/ or NWAVE_INSTALL_PATH"
    displayed_as: "${install_path}"
    example_value: "~/.claude/agents/nw/"
    consumers:
      - "Step 4: Doctor verification"
      - "Step 5: Install manifest"
    owner: "install system"
    integration_risk: "MEDIUM"
    risk_explanation: "Invalid path would cause doctor failures"

  agent_count:
    source_of_truth: "Runtime count of installed agents"
    displayed_as: "${agent_count}"
    example_value: "47"
    consumers:
      - "Step 4: Doctor table"
      - "Step 5: Install manifest"
    owner: "install system"
    integration_risk: "LOW"
    risk_explanation: "Count validates installation completeness"
    validation: "Must match wheel bundled count"
    cross_journey_note: "Must match forge:build-local and install-nwave"

  command_count:
    source_of_truth: "Runtime count of installed commands"
    displayed_as: "${command_count}"
    example_value: "23"
    consumers:
      - "Step 4: Doctor table"
      - "Step 5: Install manifest"
    owner: "install system"
    integration_risk: "LOW"
    risk_explanation: "Count validates installation completeness"
    validation: "Must match wheel bundled count"
    cross_journey_note: "Must match forge:build-local and install-nwave"

  template_count:
    source_of_truth: "Runtime count of installed templates"
    displayed_as: "${template_count}"
    example_value: "12"
    cross_journey_note: "Must match forge:build-local and install-nwave"
    consumers:
      - "Step 4: Doctor table"
      - "Step 5: Install manifest"
    owner: "install system"
    integration_risk: "LOW"
    risk_explanation: "Count validates installation completeness"
    validation: "Must match wheel bundled count"

  wheel_size:
    source_of_truth: "Runtime file size calculation"
    displayed_as: "${wheel_size}"
    example_value: "2.3 MB"
    consumers:
      - "Step 5: Release summary"
    owner: "file system"
    integration_risk: "LOW"
    risk_explanation: "Informational only"

  build_timestamp:
    source_of_truth: "From wheel metadata or file timestamp"
    displayed_as: "${build_timestamp}"
    example_value: "2026-02-01 14:23:45"
    consumers:
      - "Step 5: Release summary"
    owner: "wheel metadata"
    integration_risk: "LOW"
    risk_explanation: "Informational only"

  install_timestamp:
    source_of_truth: "Runtime timestamp at install completion"
    displayed_as: "${install_timestamp}"
    example_value: "2026-02-01 14:25:12"
    consumers:
      - "Step 5: Release summary"
    owner: "install system"
    integration_risk: "LOW"
    risk_explanation: "Informational only"

  install_duration:
    source_of_truth: "Runtime duration calculation"
    displayed_as: "${install_duration}"
    example_value: "3.2 seconds"
    consumers:
      - "Step 3: Install completion"
    owner: "install system"
    integration_risk: "LOW"
    risk_explanation: "Informational only"

  branch:
    source_of_truth: "git branch --show-current"
    displayed_as: "${branch}"
    example_value: "installer"
    consumers:
      - "Step 5: Release summary (informational only)"
    owner: "git"
    integration_risk: "LOW"
    risk_explanation: "Informational only - NOT part of candidate version format"

integration_validation:
  shared_artifact_consistency:
    - artifact: "candidate_version"
      must_match_across: [2, 4, 5]
      failure_message: "Candidate version mismatch - verify wheel and install"

    - artifact: "agent_count"
      must_match_across: [4, 5]
      failure_message: "Agent count mismatch - verify installation completeness"

    - artifact: "command_count"
      must_match_across: [4, 5]
      failure_message: "Command count mismatch - verify installation completeness"

    - artifact: "template_count"
      must_match_across: [4, 5]
      failure_message: "Template count mismatch - verify installation completeness"

    - artifact: "install_path"
      must_match_across: [4, 5]
      failure_message: "Install path mismatch - verify doctor configuration"

  cross_journey_integration:
    - journey: "forge-build-local"
      integration_point: "Step 1 input"
      shared_artifacts:
        - "wheel_path (consumed from forge:build-local)"
        - "version (must match wheel)"
      validation: "Wheel must exist in dist/ from successful build"

    - journey: "install-nwave"
      integration_point: "Step 4 doctor checks"
      shared_artifacts:
        - "Doctor verification pattern (same checks)"
        - "install_path resolution"
      validation: "Doctor checks must match install-nwave Step 5"

error_paths:
  - id: "err-1"
    name: "No Wheel Found"
    detection: "No .whl files in dist/ directory"
    severity: "fixable"
    recovery_path: "Auto-chain to forge:build-local"
    interactive_repair: true

  - id: "err-2"
    name: "Multiple Wheels Found"
    detection: "More than one .whl file in dist/"
    severity: "warning"
    recovery_path: "User selects which wheel to install"
    interactive_repair: true

  - id: "err-3"
    name: "pipx Not Installed"
    detection: "which pipx fails"
    severity: "blocking"
    recovery_path: "pip install pipx && pipx ensurepath"

  - id: "err-4"
    name: "Permission Denied"
    detection: "Cannot write to ~/.claude/"
    severity: "blocking"
    recovery_path: "Fix permissions or use NWAVE_INSTALL_PATH"

  - id: "err-5"
    name: "twine Check Failed"
    detection: "twine check returns non-zero"
    severity: "blocking"
    recovery_path: "Fix metadata in pyproject.toml and rebuild"

  - id: "err-6"
    name: "CHANGELOG Missing Entry"
    detection: "No entry for current version in CHANGELOG.md"
    severity: "warning"
    recovery_path: "Continue with warning (non-blocking for local testing)"
    interactive_repair: true

  - id: "err-7"
    name: "pipx Install Failed"
    detection: "pipx install returns non-zero"
    severity: "blocking"
    recovery_path: "Debug dependency issues and retry"

  - id: "err-8"
    name: "Doctor Unhealthy"
    detection: "One or more doctor checks fail"
    severity: "blocking"
    recovery_path: "nw install --repair or reinstall"

  - id: "err-9"
    name: "Version Mismatch"
    detection: "Installed version doesn't match wheel version"
    severity: "blocking"
    recovery_path: "pipx reinstall nwave"

  - id: "err-10"
    name: "Python Version Too Old"
    detection: "python --version < 3.10"
    severity: "blocking"
    recovery_path: "Upgrade Python"

error_handling_strategy:
  approach: "layered"
  layers:
    - layer: "pre-flight"
      description: "Validate environment and wheel before attempting install"
      catches: ["err-1", "err-2", "err-3", "err-4", "err-10"]

    - layer: "release_readiness"
      description: "Validate wheel meets PyPI requirements"
      catches: ["err-5", "err-6"]

    - layer: "interactive_repair"
      description: "Offer to fix issues automatically"
      catches: ["err-1", "err-2", "err-6"]

    - layer: "clear_failure"
      description: "Provide clear error message with suggested fix"
      catches: ["err-3", "err-4", "err-5", "err-7", "err-8", "err-9", "err-10"]

quality_gates:
  discovery_complete: true
  journey_complete: true
  emotional_coherence: true
  shared_artifacts_tracked: true
  integration_checkpoints_defined: true
  error_paths_comprehensive: true
  interactive_repair_implemented: true
  cross_journey_integration_defined: true
  release_report_defined: true
  doctor_verification_matches_install_nwave: true
  test_checklist_included: true

metadata:
  created_by: "Luna (leanux-designer)"
  created_at: "2026-02-01"
  epic: "modern_CLI_installer"
  design_reference: "Astro/Vite - warm, celebratory, guided"
  predecessor_journey: "forge-build-local"
  successor_journey: null  # End of local dev flow
  related_journeys:
    - "forge-build-local (provides wheel input)"
    - "install-nwave (shares doctor verification pattern)"
  ready_for_review: true
