# Zombie Installation Paths - Complete Inventory

**Date:** 2026-02-06
**Purpose:** Map all files and references for the three zombie installation paths before removal

---

## Zombie Path 1: install-nwave Command (PyPI Installer)

**Status:** ZOMBIE - PyPI installation not configured, doesn't work
**Location:** `src/crafter_ai/installer/cli/install_nwave.py` (479 lines)

### Files to DELETE:
```
src/crafter_ai/installer/cli/install_nwave.py          (479 lines - main command)
tests/installer/cli/test_install_nwave.py              (764 lines - tests)
```

### References to REMOVE:

**In src/crafter_ai/cli.py:**
- Line 11: `from crafter_ai.installer.cli.install_nwave import install_nwave`
- Line 57: `app.command("install-nwave")(install_nwave)`

**In docs/features/modern-cli-installer/01-discuss/user-stories.md:**
- Lines 12-20: Journey 3 references
- Lines 30-39: install-nwave user stories (US-030 to US-039)
- Lines 59-61: Journey dependency diagram

**In docs/features/modern-cli-installer/03-distill/:**
- Features referencing PyPI installation journey
- E2E scenarios for install-nwave

**In .installation-paths-analysis.md:**
- Section "Installation System 3: PyPI Package Installer"

---

## Zombie Path 2: Standalone Script (install-nwave-claude-code.py)

**Status:** ZOMBIE - File doesn't exist, but referenced everywhere
**Expected location:** `dist/releases/install-nwave-claude-code.py` (DOESN'T EXIST)

### References to REMOVE:

**In README.md:**
- Lines 25-27: Download curl command and python execution
- Line 32: Alternative installation reference

**In docs/installation/installation-guide.md:**
- Lines 46-50: Standalone installer section
- References to downloading from releases

**In tools/create_release_packages.py:**
- Line 18: Output documentation comment
- Line 253: `self.copy_installer("install-nwave-claude-code.py")`
- Lines 291-296: Claude Code IDE section
- Lines 310-311: Download instructions

**In .github/workflows/ci-cd.yml:**
- Lines 531-532: curl download and python execution

**In .github/workflows/release.yml.wip:**
- Line 364: Expected file in required_files array
- Lines 447-448: Quick install instructions
- Line 505: Expected asset

**In .github/workflows/archive/release.yml:**
- Line 74: File existence check
- Lines 104-105: Installation instructions in CHANGELOG
- Line 121: File upload to release
- Line 143: Package list
- Lines 149-150: Quick install instructions

**In .github/workflows/DELIVERABLES.md:**
- Line 118: Listed as deliverable

**In docs/ux/modern-cli-installer/:**
- journey-install-nwave.yaml
- journey-install-nwave-visual.md
- Multiple references to standalone installer

---

## Zombie Path 3: Old Plugin-Based Installer

**Status:** ZOMBIE - Superseded by modern forge install
**Location:** `scripts/install/` directory

### Files to DELETE:

**Main installer:**
```
scripts/install/install_nwave.py                       (731 lines - main script)
```

**Plugin system:**
```
scripts/install/plugins/
├── __init__.py
├── base.py                                            (Plugin base classes)
├── registry.py                                        (PluginRegistry orchestrator)
├── agents_plugin.py
├── commands_plugin.py                                 (Expects dist/ide/commands/)
├── templates_plugin.py
├── utilities_plugin.py
└── des_plugin.py
```

**Utilities:**
```
scripts/install/
├── install_utils.py                                   (BackupManager, PathUtils, etc.)
├── installation_verifier.py                           (InstallationVerifier)
├── preflight_checker.py                               (PreflightChecker)
├── rich_console.py                                    (ConsoleFactory, RichLogger)
├── output_formatter.py                                (format_error, etc.)
└── update_nwave.py                                    (Update script)
```

### Test Files to DELETE:

```
tests/install/
├── test_install_framework_plugin_integration.py
├── test_wrapper_plugins.py
└── test_selective_plugin_installation.py

tests/nwave/plugin-architecture/
├── acceptance/
│   ├── test_des_plugin_acceptance.py
│   ├── test_milestone_3_switchover.py
│   ├── milestone-*.feature files
│   └── steps/
│       ├── installer_steps.py
│       ├── plugin_steps.py
│       └── verification_steps.py
├── unit/
│   ├── test_utilities_plugin.py
│   └── test_coverage_gaps.py

tests/unit/
├── test_install_nwave_preflight.py
├── test_installation_logging.py
├── test_installation_verifier.py

tests/acceptance/installation/
├── features/
│   ├── 01_preflight_checks.feature
│   ├── 02_error_messages.feature
│   ├── 03_dependency_verification.feature
│   ├── 04_post_installation.feature
│   ├── 05_logging.feature
│   ├── 06_documentation.feature
│   └── 07_ci_environment.feature
├── step_defs/
│   ├── steps_logging.py
│   ├── steps_preflight.py
│   ├── steps_error_messages.py
│   ├── steps_dependency.py
│   └── steps_ci_environment.py
└── conftest.py
```

### Documentation References to REMOVE:

**In README.md:**
- Lines 29-32: `python scripts/install/install_nwave.py`

**In docs/installation/installation-guide.md:**
- Lines 26-41: pipenv run python scripts/install/install_nwave.py
- Lines 104-141: Installation options (--backup-only, --restore, --help)

**In scripts/README.md:**
- References to install_nwave.py

**In docs/evolution/2026-02-03-plugin-architecture.md:**
- Plugin architecture design document

**In docs/architecture/:**
- nwave-plugin-development-guide.md
- nwave-plugin-system-architecture.md

### Old Build Tool to DELETE:

```
tools/core/build_ide_bundle.py                         (Creates dist/ide/commands/ - old path)
tools/core/processors/                                 (agent_processor, command_processor, etc.)
```

### Features to PRESERVE (Port to Modern System):

**From Plugin System:**
- ✅ Rollback mechanism (BackupManager)
- ✅ Dependency resolution (PluginRegistry topological sort)
- ✅ Pre-flight checks (PreflightChecker)
- ✅ Installation verification (InstallationVerifier)

**Action:** Extract these components, port to modern forge system, THEN delete old code.

---

## Summary Statistics

### Files to Delete:
- **Path 1 (install-nwave):** 2 files (~1,243 lines)
- **Path 2 (standalone):** 0 files (references only)
- **Path 3 (plugin system):** ~30+ files (~5,000+ lines)

### References to Update:
- **README.md:** 2 sections
- **Installation guide:** 3 sections
- **CI/CD workflows:** 3 files, ~15 references
- **Feature docs:** Modern-cli-installer journey docs
- **Architecture docs:** Plugin system docs

### Estimated Impact:
- **High:** Installation documentation (README, guides)
- **Medium:** CI/CD workflows (release process)
- **Low:** Old plugin tests (already failing)

---

## Removal Order (Safe Sequence):

1. **Phase 1:** Update documentation FIRST
   - README.md
   - docs/installation/installation-guide.md
   - Remove references to zombie paths
   - Add correct installation flow

2. **Phase 2:** Remove Path 2 references (standalone script)
   - Update CI/CD workflows
   - Update release scripts
   - Remove from tools/create_release_packages.py

3. **Phase 3:** Remove Path 1 (install-nwave command)
   - Delete src/crafter_ai/installer/cli/install_nwave.py
   - Delete tests/installer/cli/test_install_nwave.py
   - Update src/crafter_ai/cli.py

4. **Phase 4:** Archive Path 3 useful components
   - Extract BackupManager, PreflightChecker, etc.
   - Port to modern forge system
   - Document what was extracted

5. **Phase 5:** Remove Path 3 (plugin system)
   - Delete scripts/install/ directory
   - Delete plugin tests
   - Delete old build tool (tools/core/build_ide_bundle.py)
   - Delete plugin architecture docs

---

## Next Steps

1. ✅ Review this inventory with Mike
2. ⏳ Execute removal in order above
3. ⏳ Use @documentarist to create clean installation docs
4. ⏳ Rebrand crafter-ai → nwave
5. ⏳ Test installation flow end-to-end
6. ⏳ Commit with conventional format

**Ready for approval to proceed.**
