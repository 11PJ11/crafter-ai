# nWave IDE Bundle Builder Configuration

# Build settings
build:
  # Source and output directories
  source_dir: "../nWave"
  output_dir: "../dist/ide"

  # Build behavior
  clean_output: false
  incremental: true
  validate_dependencies: true

  # Performance settings
  parallel_processing: true
  max_workers: 4

  # Quality control
  strict_validation: true
  fail_on_missing_deps: false
  fail_on_warnings: false

# Processing options
processing:
  # Agent processing
  agents:
    embed_dependencies: true
    resolve_placeholders: true
    validate_yaml: true
    include_metadata: true

  # Command processing
  commands:
    add_wave_headers: true
    include_agent_references: true
    embed_task_dependencies: true

  # Team processing (teams become massive agents)
  teams:
    convert_to_agents: true
    embed_collaboration_patterns: true
    include_workflow_coordination: true

  # Workflow processing (workflows become orchestrator agents)
  workflows:
    convert_to_orchestrators: true
    embed_phase_guidance: true
    include_agent_coordination: true

# Output structure
output:
  # Directory structure under dist/ide/
  structure:
    agents: "agents/nw"
    commands: "commands/nw"
    config: "agents/nw" # Config lives with agents

  # File naming conventions
  naming:
    agents: "{agent-name}.md"
    commands: "{command-name}.md"
    teams: "{team-name}-team.md" # Teams become agents
    workflows: "{workflow-name}-orchestrator.md" # Workflows become orchestrators
    config: "config.json"

# Dependency resolution
dependencies:
  # Source directories for dependency types
  sources:
    tasks: "tasks"
    templates: "templates"
    checklists: "checklists"
    data: "data"
    utils: "utils"
    workflows: "workflows"
    agent-teams: "agent-teams"

  # Embedding formats by file extension
  formats:
    ".md": "markdown"
    ".yaml": "yaml-code-block"
    ".yml": "yaml-code-block"
    ".json": "json-code-block"
    ".py": "python-code-block"
    ".js": "javascript-code-block"
    ".sh": "bash-code-block"
    ".txt": "text-code-block"

  # Placeholder resolution
  placeholders:
    "{root}": "source_dir"

# Validation rules
validation:
  # Required configuration sections
  required_sections:
    - "wave_phases"
    - "agents"
    - "commands"

  # Agent validation
  agents:
    require_wave_assignment: true
    validate_wave_exists: true
    require_role: false
    validate_dependencies: true

  # Command validation
  commands:
    validate_agent_references: true
    require_description: false
    validate_wave_assignment: false

  # Team validation
  teams:
    validate_agent_references: true
    require_workflow: false

  # Workflow validation
  workflows:
    validate_phases: true
    require_description: false

# Logging configuration
logging:
  # Log levels: DEBUG, INFO, WARNING, ERROR, CRITICAL
  level: "INFO"

  # Log output
  console: true
  file: true
  file_path: "build.log"

  # Log formatting
  format: "%(asctime)s - %(levelname)s - %(message)s"
  date_format: "%Y-%m-%d %H:%M:%S"

# Error handling
error_handling:
  # Behavior on errors
  continue_on_error: true
  max_errors: 10

  # Recovery strategies
  retry_failed_files: 1
  backup_on_failure: false

  # Error reporting
  detailed_error_messages: true
  include_stack_traces: false

# Quality gates
quality_gates:
  # Dependency completeness
  max_missing_dependencies: 5
  max_missing_percentage: 10.0

  # File processing
  min_success_rate: 90.0
  max_processing_errors: 5

  # Output validation
  validate_output_structure: true
  validate_generated_config: true

  # Content quality
  min_content_length: 100 # bytes
  validate_markdown_syntax: false
  validate_yaml_syntax: true

# IDE integration
ide:
  # Category configuration
  category_name: "nw"
  category_description: "nWave Methodology"

  # Metadata generation
  include_build_info: true
  include_dependency_info: true
  include_validation_results: true

  # Installation support
  generate_install_guide: true
  generate_usage_examples: true

# Advanced options
advanced:
  # Content optimization
  optimize_markdown: false
  compress_embedded_content: false
  remove_comments: false

  # Debugging
  preserve_temp_files: false
  debug_dependency_resolution: false
  debug_placeholder_resolution: false

  # Performance monitoring
  track_processing_time: true
  track_memory_usage: false
  generate_performance_report: false
