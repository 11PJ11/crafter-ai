# nWave Installer Configuration
# This file defines default installation settings
# Environment variables take precedence over these values

# =============================================================================
# PATH CONFIGURATION
# =============================================================================
# Resolution order:
#   1. NWAVE_INSTALL_PATH environment variable (highest priority)
#   2. This config file [paths.install_dir]
#   3. Default: ~/.claude/agents/nw/

paths:
  # Where nWave agents, commands, and templates are installed
  # Override with: NWAVE_INSTALL_PATH=~/custom/path pipx install nwave
  install_dir: "~/.claude/agents/nw"

  # Backup location for rollback capability
  backup_dir: "~/.claude/agents/nw.backup"

# =============================================================================
# INSTALLATION BEHAVIOR
# =============================================================================

installation:
  # Run doctor automatically after install
  auto_doctor: true

  # Show ASCII logo on successful install
  show_logo: true

  # Show next steps guidance
  show_next_steps: true

# =============================================================================
# PRE-FLIGHT CHECKS
# =============================================================================

preflight:
  # Minimum Python version required
  python_min_version: "3.10"

  # Checks to run before installation
  checks:
    - python_version
    - pipx_isolation
    - packages_installed
    - write_permissions
    - claude_code_installed

# =============================================================================
# UPDATE BEHAVIOR
# =============================================================================

updates:
  # Check for updates on command execution
  check_on_run: true

  # Auto-update behavior: "prompt" | "auto" | "never"
  auto_update: "prompt"

  # Release channel: "stable" | "latest"
  channel: "stable"

  # Disable in CI environments automatically
  disable_in_ci: true

# =============================================================================
# CI/AUTOMATION MODE
# =============================================================================

ci:
  # Environment variables that trigger CI mode
  detection_vars:
    - "CI"
    - "GITHUB_ACTIONS"
    - "GITLAB_CI"
    - "JENKINS_URL"

  # Behavior in CI mode
  behavior:
    interactive: false
    show_logo: false
    check_updates: false
    output_format: "json"  # "text" | "json"
